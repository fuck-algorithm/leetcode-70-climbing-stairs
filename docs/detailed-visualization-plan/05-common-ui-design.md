# 统一界面和交互设计详细规范

## 1. 导航与控制面板详细设计

### 1.1 算法切换组件
- **标签式切换设计**：
  - 视觉外观：三个等宽标签，每个高度60px，圆角顶部(8px)
  - 位置：页面顶部居中，占据页面宽度的60%(最小400px，最大800px)
  - 标签内容：
    * "动态规划"：左侧标签，绿色主题(#4CAF50)
    * "矩阵快速幂"：中间标签，蓝色主题(#2196F3)
    * "通项公式"：右侧标签，紫色主题(#9C27B0)
  - 默认选中：页面加载时默认选中"动态规划"标签
  - 未选中标签：
    * 背景色：与主题对应但半透明(50%透明度)
    * 文字颜色：与主题对应但较深
    * 底部边框：无
  - 选中标签：
    * 背景色：与主题对应的实色(不透明)
    * 文字颜色：白色(#FFFFFF)
    * 底部边框：5px solid主题色
    * 阴影效果：轻微下投影(0 2px 4px rgba(0,0,0,0.2))

- **切换标签图标**：
  - 图标设计：简约的算法标志图标，位于文本左侧10px处
  - 大小：24px × 24px，SVG格式保证清晰度
  - 颜色：选中时为白色，未选中时为对应主题色
  - 切换动画：图标旋转30度并恢复(150ms)
  - 图标含义：
    * 动态规划：阶梯状递增图标
    * 矩阵快速幂：2×2矩阵图标
    * 通项公式：φ符号或数学公式图标

- **算法切换过渡动画**：
  - 淡出/淡入效果：当前算法视图淡出(200ms)，新算法视图淡入(300ms)
  - 滑动过渡：根据选择方向，内容区域左右滑动(300ms)
  - 背景色过渡：页面背景色从一个算法主题平滑过渡到另一个(400ms)
  - 参数保持：切换算法时保留n值等共享参数
  - 状态记忆：记住每个算法上次查看的步骤

- **响应式适配**：
  - 桌面视图(>1024px)：水平排列的三个标签
  - 平板视图(768px-1024px)：水平排列，但标签宽度减小
  - 手机视图(<768px)：转为下拉选择器或水平滚动标签栏
  - 触摸优化：触摸设备上增加标签间距，提高可点击区域
  - 键盘导航：支持Tab键和左右箭头键在标签间切换

### 1.2 主控制面板
- **位置布局**：
  - 桌面端：底部固定控制栏，高度80px，宽度100%
  - 移动端：底部固定控制栏，可上滑展开为更大控制面板
  - 边距：左右页面边距20px，内容区域下方20px
  - 可折叠：可通过小箭头将控制面板最小化/展开
  - 层级：Z-index较高，确保始终可见和可操作

- **播放控制组**：
  - 播放/暂停按钮：
    * 位置：控制面板中央
    * 大小：直径50px的圆形按钮
    * 图标：▶️(播放)和⏸️(暂停)图标，大小24px
    * 颜色：当前算法主题色，白色图标
    * 悬停效果：轻微放大(scale 1.05)和加深颜色
    * 点击效果：轻微下沉(2px)
  - 前进/后退按钮：
    * 位置：播放按钮两侧各15px
    * 大小：直径36px的圆形按钮
    * 图标：单步前进(▶️|)和单步后退(|◀️)图标，大小18px
    * 颜色：主题色较浅版本
    * 状态：不可用时显示灰色(#BDBDBD)
  - 跳到开始/结束按钮：
    * 位置：单步按钮外侧各15px
    * 大小：直径32px的圆形按钮
    * 图标：跳到开始(|◀️◀️)和跳到结束(▶️▶️|)图标
    * 颜色：主题色较浅版本
    * 显示逻辑：仅在算法演示开始后显示

- **速度控制组**：
  - 速度滑块：
    * 位置：底部控制栏右侧
    * 尺寸：长度150px，高度6px，滑块直径18px
    * 刻度标记：0.5x、1.0x、1.5x、2.0x四个位置
    * 默认值：1.0x(正常速度)
    * 刻度标签：字体大小12px，颜色#757575
  - 当前速度显示：
    * 位置：滑块上方10px处
    * 样式："1.0x"，字体大小14px，颜色与主题对应
    * 更新：拖动滑块时实时更新
  - 预设按钮：
    * 位置：滑块下方可选显示快捷按钮
    * 设计：小型文本按钮，带有薄边框
    * 选项：0.5x、1.0x、1.5x、2.0x四个选项

- **进度指示器**：
  - 进度条：
    * 位置：控制面板上方或控制面板内
    * 高度：4px，宽度匹配内容区域宽度
    * 颜色：已完成部分使用主题色，未完成部分使用灰色(#E0E0E0)
    * 当前步骤：小圆点标记(8px直径)
  - 步骤标记：
    * 位置：进度条上方
    * 样式：关键步骤使用小圆点标记
    * 悬停效果：悬停在步骤点上显示步骤名称
    * 交互：点击步骤点可跳转到对应步骤
  - 时间戳显示：
    * 位置：进度条两端
    * 内容：左侧显示当前位置/总时长，右侧显示剩余时间
    * 格式：mm:ss，字体大小12px

### 1.3 参数设置面板
- **面板设计**：
  - 位置选项：
    * 桌面端：右侧固定侧栏，宽度300px
    * 或：顶部展开式设置区，展开高度根据内容确定
    * 移动端：底部上滑面板或右侧抽屉式菜单
  - 视觉风格：
    * 背景色：浅灰色(#F5F5F5)或半透明白色
    * 边框：1px solid #E0E0E0，圆角8px
    * 阴影：轻微阴影效果(0 2px 10px rgba(0,0,0,0.1))
  - 展开/折叠控制：
    * 标志：箭头图标或齿轮图标
    * 位置：面板边缘或右上角
    * 动画：平滑展开/折叠动画(250ms)

- **n值输入控件**：
  - 数字输入框：
    * 位置：面板顶部突出位置
    * 尺寸：宽度80px，高度36px
    * 标签："阶梯数(n)："，位于输入框左侧
    * 输入限制：仅允许0-30的整数
    * 错误提示：输入无效时输入框边框变红，下方显示提示
  - 数值滑块：
    * 位置：输入框下方
    * 范围：0-30，步长1
    * 尺寸：长度240px，高度6px
    * 刻度：每5个单位显示一个标记
    * 拖动效果：滑块拖动时实时更新输入框值
  - 双向绑定：输入框和滑块值同步，任一更改都会反映在另一个上

- **重新计算按钮**：
  - 位置：n值控件右侧或下方
  - 尺寸：宽度120px，高度36px
  - 样式：圆角矩形按钮(4px)，使用当前算法主题色
  - 文字："重新计算"，白色，字体大小14px
  - 点击效果：按下时轻微缩小(scale 0.98)
  - 状态：参数未变化时为禁用状态(灰色)
  - 加载状态：点击后显示加载动画，防止重复点击

- **算法特定参数**：
  - 组织方式：使用折叠面板或标签页组织不同参数组
  - 参数类型：
    * 复选框：开/关选项
    * 单选按钮：多选一选项
    * 下拉菜单：选项较多时
    * 滑块：连续范围值
  - 标签样式：参数名称使用14px字体，颜色#616161
  - 提示信息：参数旁添加问号图标，悬停显示帮助信息
  - 默认值：每个参数都有合理的默认值

### 1.4 全局设置与状态
- **全局设置按钮**：
  - 位置：页面右上角
  - 样式：齿轮图标，直径32px
  - 悬停效果：图标旋转30度
  - 点击效果：展开设置面板
  - 快捷键：支持键盘快捷键(如S)打开设置

- **设置面板内容**：
  - 主题选择：
    * 亮色/暗色模式切换
    * 高对比度模式选项
    * 颜色盲友好模式
  - 界面设置：
    * 文字大小调整
    * 动画速度全局设置
    * 界面布局选项（侧栏/底栏等）
  - 辅助功能：
    * 音效开关
    * 字幕/注释显示选项
    * 屏幕阅读器兼容性选项
  - 性能选项：
    * 动画质量（低/中/高）
    * 背景效果开关
    * 预加载设置

- **会话状态保存**：
  - 自动保存：
    * 算法类型、n值等参数
    * 演示进度
    * 用户偏好设置
  - 恢复功能：
    * 页面刷新后恢复上次状态
    * 提供"重置所有"按钮
  - 存储方式：
    * 使用localStorage保存参数和设置
    * 可选登录功能以跨设备同步(如适用)
  - 状态URL：允许通过URL参数共享特定状态

- **帮助与信息**：
  - 帮助按钮：
    * 位置：右上角，问号图标
    * 功能：打开帮助面板或弹出式指南
  - 算法信息：
    * 当前算法的简要描述
    * 适用场景和限制
    * 参考资料链接
  - 工具提示：
    * 所有控件都有悬停提示
    * 新用户引导提示
    * 功能发现提示

## 2. 模式选择系统详细设计

### 2.1 解释模式切换器
- **切换器设计**：
  - 控件类型：三段式开关或下拉选择器
  - 位置：主控面板上方或右侧控制区
  - 尺寸：宽度180px（三段式）或120px（下拉式）
  - 标签：前置文字"解释详细度:"
  - 选项：
    * "简洁"：最小化说明
    * "详细"：完整解释（默认）
    * "专家"：包含高级细节
  - 视觉区分：
    * 每个模式有独特图标（简洁：闪电，详细：文档，专家：图表）
    * 不同颜色标识（简洁：蓝色，详细：绿色，专家：紫色）

- **切换效果**：
  - 切换动画：平滑滑动过渡(200ms)
  - 内容过渡：当前解释淡出，新解释淡入(300ms)
  - 反馈效果：切换时轻微振动反馈（移动设备）
  - 状态指示：当前选中模式高亮显示
  - 缓存机制：切换模式时保存当前进度

- **模式记忆功能**：
  - 本地存储：记住用户的模式偏好
  - 算法专属：每种算法可以有独立的模式设置
  - 重置选项：提供"恢复默认"选项
  - 智能推荐：根据用户交互模式推荐适合的详细度
  - 用户分析：匿名统计用户对不同模式的使用情况

### 2.2 简洁模式规范
- **文字内容要求**：
  - 文字总量：每个步骤解释不超过20个字
  - 语言风格：简短直接，关键词优先
  - 术语使用：保留必要的技术术语，但不展开解释
  - 句式结构：主要使用短句和关键词组
  - 省略原则：省略背景信息和次要细节

- **视觉元素简化**：
  - 只保留核心视觉元素和动画
  - 移除装饰性元素和次要信息
  - 高对比度：增强核心元素的视觉突出度
  - 标签简化：最小化标签文字
  - 图标优先：尽可能用图标替代文字

- **步骤合并策略**：
  - 相似步骤合并展示
  - 加速展示重复性操作
  - 简化过渡：减少中间过渡步骤
  - 跳过可选步骤：只显示必要的算法步骤
  - 重点突出：为关键步骤增加视觉强调

- **界面密度调整**：
  - 减少次要信息，增大主要元素
  - 增加空白区域，提高可读性
  - 信息层级：最多两级信息层级
  - 控件简化：隐藏高级控件，保留基础控制
  - 布局优化：单列布局，避免复杂排版

### 2.3 详细模式规范
- **文字内容要求**：
  - 文字量：每个步骤50-100字的完整解释
  - 语言风格：教学式，平衡技术性和可理解性
  - 结构化说明：步骤明确的解释，有明显的层次
  - 术语解释：技术术语首次出现时提供简短解释
  - 示例丰富：使用具体例子说明抽象概念

- **视觉元素完整呈现**：
  - 包含所有计划的视觉元素和动画
  - 标签详细：完整的标签和说明文字
  - 图表完整：展示完整的数据和关系
  - 过程可视化：每个算法步骤都有对应可视化
  - 互动提示：添加互动引导元素

- **步骤展示策略**：
  - 完整展示所有计划步骤
  - 节奏适中：步骤之间有合适的时间间隔
  - 过渡清晰：步骤间有明确的过渡提示
  - 进度指示：显示当前在整体流程中的位置
  - 回顾功能：可以回看已完成的步骤

- **附加说明与背景**：
  - 提供每步骤的解释和背景知识
  - 关联信息：指出与其他概念的关联
  - 边栏补充：侧边栏提供补充资料
  - 提示气泡：关键点添加提示气泡
  - 历史背景：适当添加算法或概念的历史背景

以上是统一界面和交互设计详细规范的第一部分，包含了导航与控制面板设计和模式选择系统的详细规范。这些设计确保了整个爬楼梯问题的三种算法可视化之间有一致的用户体验，同时每种算法又保持各自的特色。 