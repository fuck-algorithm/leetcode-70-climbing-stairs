# 动态规划算法步骤动画 - 第一部分

## 步骤1：问题介绍与场景设置动画

### 场景初始化动画（0-2秒）
- **画布准备**：
  - 初始状态：空白画布，背景色从白色渐变到#F9F9F9，有微妙的纹理图案
  - 光效：柔和的环境光从画布四周向中心投射，创造自然氛围
  - 视口设置：根据屏幕宽高自动调整，保持画布比例为16:9
  - 布局初始化：设置顶部标题区、中央演示区和底部控制区，使用弹性过渡效果
  - 渲染预热：预加载关键资源（楼梯、小人等），显示精美的加载动画
  - 粒子效果：背景中有轻微的漂浮粒子，增强空间感

- **标题动画**：
  - 内容："爬楼梯问题 (LeetCode 70)"
  - 位置：画布顶部居中
  - 字体：Roboto, 24px, 粗体, #212121，带有细微的文字阴影
  - 出现方式：文字从上方飞入(transform: translateY(-30px) → translateY(0))，同时字母逐个出现
  - 透明度：0 → 1，持续400ms
  - 缓动函数：cubic-bezier(0.175, 0.885, 0.32, 1.275)（弹性缓动）
  - 完成效果：短暂放大再恢复正常大小，配合低音调"噗"声效果
  - 光效：标题出现后有轻微的光晕效果，强调重要性

- **起点平台出现**：
  - 位置：画布中央偏下
  - 尺寸：宽度160px，高度40px，厚度10px
  - 材质：具有精细纹理的石材或木材表面，有自然光反射效果
  - 颜色：浅灰色(#E0E0E0)，带有细微的颜色变化增加真实感
  - 出现方式：从完全透明到不透明(opacity: 0 → 1)，同时从下方200px上升到位
  - 弹性效果：到达最终位置时有物理弹跳效果(spring physics)，模拟重量感
  - 3D效果：逼真的材质和光影效果，立体质感明显
  - 阴影：动态投影，根据假想光源位置产生柔和的实时阴影
  - 标注："起点(0阶)"，文字出现在平台左侧，使用3D文本效果
  - 音效：石块/木块落地声，体现质感

- **小人角色出现**：
  - 外观：精心设计的卡通人物，有清晰的面部特征和肢体细节
  - 骨骼系统：使用关节骨骼系统，支持流畅自然的动作
  - 尺寸：高度为台阶高度的1.5倍（约60px），比例协调
  - 位置：初始站在起点平台左侧
  - 出现方式：先显示轮廓，然后填充颜色和细节，最后添加阴影和高光
  - 入场动作：从屏幕左侧小跑进入，到平台边缘停住，持续800ms
  - 等待动作：小幅度上下跳动，偶尔眨眼，呼吸动画，展示生动的角色性格
  - 设计注意：色彩鲜明但不刺眼，与背景形成良好对比，便于追踪
  - 面部表情：好奇/思考状态，眼睛跟随鼠标移动，增加互动感
  - 声音：轻快的脚步声和"嗨"的问候音效（可选关闭）
  - 交互响应：点击小人会做出反应，如挥手或跳跃

### 楼梯生成动画（2-4秒）
- **生成方式**：
  - 顺序：从底部（起点）向上逐层生成
  - 前兆效果：生成前有蓝色光点预示阶梯位置，提前100ms出现
  - 单阶时间：每阶生成时间 = 2秒 ÷ n（确保总时间控制在2秒内）
  - 生成节奏：有规律的节奏感，类似音乐节拍
  - 生成方向：从起点(0阶)开始，依次生成1阶、2阶...n阶
  - 视觉指引：当前生成的阶梯短暂高亮，周围有微光粒子
  - 生成音效：每阶出现时有轻微的"噗"声，音调逐渐升高

- **单个阶梯生成效果**：
  - 前兆：蓝色能量点快速聚集，形成阶梯轮廓
  - 运动轨迹：从下方20px位置滑入到最终位置
  - 缓动函数：物理弹性缓动(custom-spring)，模拟真实物体运动
  - 透明度：0 → 1，与位置移动同步，光效先于实体出现
  - 微缩放：生成时有波动效果(scale: 0.95 → 1.05 → 1)，3-4次阻尼振荡
  - 阴影：逐渐显现的阴影效果，随阶梯稳定而变得清晰
  - 材质：阶梯表面有微妙的环境反射，增强质感
  - 空气效果：阶梯出现时周围有轻微的空气扰动效果

- **编号显示**：
  - 位置：每个阶梯左侧，微微悬浮在表面
  - 出现时机：与对应阶梯同步出现，但有50ms延迟
  - 样式：圆形背景，白色数字，与阶梯同色边框，发光效果
  - 动画：从透明到不透明，同时有弹性放大效果和旋转效果
  - 特殊处理：n>20时，中间阶梯可使用省略号表示，但鼠标悬停时显示具体数字
  - 互动反馈：编号可点击，点击后镜头聚焦到对应阶梯，并显示该阶梯详情

- **目标标识**：
  - 类型：在最顶阶（第n阶）中央显示动态五角星图标
  - 大小：30px × 30px，有呼吸缩放效果
  - 颜色：金色(#FFD700)，边缘有明亮的白色光晕
  - 出现方式：在所有阶梯出现完成后，从高空落下，有重力加速感
  - 落地效果：接触阶梯时产生光环扩散和微小震动
  - 持续效果：3D旋转和脉动，周围有金色光粒子环绕
  - 标注："目标"文字标签，使用3D悬浮效果，出现在星星上方
  - 交互：鼠标悬停时星星旋转加速，点击时产生烟花效果

- **全局视图调整**：
  - 摄像机位置：根据n值自动调整视角，确保整个楼梯可见
  - 动态调整：如用户调整n值，摄像机平滑过渡到新视角
  - 缩放比例：根据n值调整缩放，n越大缩放比例越小，但保证细节可见
  - 视角转换：使用电影级摄像机运动，有加速和减速过程
  - 布局优化：确保起点和目标都在可视范围内，黄金分割点构图
  - 视角控制：用户可用鼠标拖拽微调视角(±20°范围)，双击恢复默认视角

### 问题描述动画（4-7秒）
- **描述文本框**：
  - 位置：右侧面板或楼梯上方，使用视觉引导线连接相关元素
  - 大小：宽度300px，高度自适应，但有最大高度限制
  - 样式：半透明磨砂玻璃效果背景(backdrop-filter: blur)，现代圆角设计
  - 边框：细微的光边框，随环境光变化
  - 出现方式：从右侧滑入，同时透明度从0变为1，配合轻微的旋转效果
  - 阴影：柔和的投影，随文本框移动而变化
  - 强调：重点内容周围有柔和的高亮效果

- **文字显示**：
  - 内容："假设你正在爬楼梯，每次可以爬1阶或2阶，求爬到第n阶有多少种不同的方法？"
  - 替换：将"n"替换为实际输入值，使用动态变化的强调色(#FF5722)
  - 显示方式：优雅的打字机效果，每字符15-20ms，带有轻微的击键音效
  - 字体：Roboto, 16px, #333333，重要词汇加粗并有微弱阴影
  - 段落间距：1.5倍行高，增强可读性
  - 动态排版：文本随内容长度自动调整布局，保持美观
  - 多级别描述：提供"简洁"和"详细"两种模式，可切换查看

- **小人演示动作**：
  - 爬1阶演示：
    * 准备动作：小人先后退一小步，微微下蹲，做出蓄力姿势
    * 面部表情：专注表情，眼睛盯着目标阶梯
    * 跳跃动作：使用物理引擎实现的流畅跳跃，包括起跳、空中和落地三个阶段
    * 身体细节：跳跃时手臂自然上摆，脚部有蹬地动作，衣服有风吹效果
    * 轨迹线：显示物理准确的抛物线轨迹，蓝色虚线逐段显现
    * 落地动作：膝盖弯曲缓冲，身体微晃，表现惯性
    * 完成表情：成功落地后露出微笑或点头
  
  - 爬2阶演示：
    * 返回动作：小人从第1阶平滑返回起点，使用快速滑行效果
    * 准备姿势：更明显的蓄力下蹲，手臂后摆，表情更加专注
    * 跳跃力度：明显比爬1阶更用力的跳跃，身体绷紧
    * 空中动作：双腿弯曲收起，手臂伸展平衡，头部保持向前
    * 轨迹线：显示更高、更陡的抛物线，橙色虚线动态生成
    * 落地缓冲：更夸张的落地姿势，表现冲击力和平衡控制
    * 成功反应：小幅度的胜利动作，如握拳或欢呼
  
  - 动作过渡：所有动作间平滑过渡，避免生硬切换
  - 动作失败示例：可选展示"尝试跳3阶"但失败的滑稽动画，增加趣味性
  - 物理准确性：所有动作遵循物理规律，增强真实感
  - 交互可能：允许用户点击特定阶梯，让小人尝试直接跳到该阶梯
  - 演示控制：提供重播、慢动作、暂停等控制选项

- **辅助视觉元素**：
  - 移动轨迹：小人移动时，生成物理准确的虚线轨迹，带有方向箭头
  - 能量指示：跳跃前显示能量蓄积效果，表示不同高度需要的能量
  - 提示气泡：关键动作旁出现简短提示，解释当前步骤
  - 聚焦效果：当前演示阶梯有轻微发光和放大效果，吸引注意力
  - 物理指示器：显示跳跃的高度、距离和速度数据（可选显示）
  - 转场效果：演示完成后使用优雅的淡出效果，平滑过渡到下一步骤

### 数据初始化动画（7-9秒）
- **方法数显示器初始化**：
  - 预热效果：在显示器出现前，对应位置有光点闪烁，预示即将出现
  - 部署位置：每个阶梯右上角，微微悬浮在表面
  - 初始状态：所有显示器显示"?"，带有旋转和闪烁效果表示"未知"
  - 出现方式：逐个淡入，从起点向目标方向，带有微小的爆炸效果
  - 间隔时间：每个显示器出现间隔50ms，形成节奏感
  - 视觉设计：立体感强的圆形计数器，内部有精细纹理，边缘有反光
  - 连接效果：相邻显示器之间有若隐若现的连线，暗示关联性

- **起点方法数设置**：
  - 预备效果：第0阶周围出现聚焦光环，镜头轻微拉近
  - 视觉过程：
    * 第0阶方法数显示器短暂闪烁(300ms)，周围产生波纹扩散
    * 问号"?"以3D翻转动画变为数字"1"，背后有光束效果
    * 显示器背景色从灰色变为浅绿色，使用径向渐变过渡
    * 计数器完成时有微小的金色粒子爆发效果
    * 短暂放大强调(scale: 1 → 1.2 → 1)，配合"铛"的清脆音效
  - 文字说明："在起点(第0阶)，我们认为有1种方法到达" (同步的语音解说可选)
  - 代码显示：右侧面板显示"dp[0] = 1"代码行，使用打字机效果和语法高亮
  - 状态更新：第0阶台阶变为已计算状态（绿色），有光流效果从中心向边缘扩散
  - 思考引导：小人做出"理解"的动作，如点头或摸下巴

- **视觉引导效果**：
  - 聚光效果：柔和的聚光灯效果照射在起点区域，强调重要性
  - 镜头焦点：轻微景深效果，使起点清晰而其他区域稍微模糊
  - 镜头移动：平滑的摄像机运动，使用电影级曲线缓动
  - 高亮效果：起点区域添加柔和的光晕(box-shadow)和粒子效果
  - 引导线：从"dp[0] = 1"代码到起点的动态连接线，表明关系
  - 指示箭头：优雅的脉动箭头指向起点，使用半透明渐变设计
  - 小人动作：小人转向观众，做出"这很重要"的手势，面部表情认真

- **界面准备过渡**：
  - 元素整理：所有UI元素微调位置，为算法步骤留出最佳空间
  - 工具栏出现：底部控制面板平滑滑入，带有玻璃态模糊效果
  - 代码面板初始化：右侧代码面板展开，代码使用美观的语法高亮和行号
  - 状态指示：底部进度条初始化，当前步骤点发光，已完成步骤有对勾标记
  - 视觉调整：整体亮度微调，营造专注氛围
  - 音频提示：背景音乐平滑过渡到低密度节奏，表示准备开始分析
  - 转场特效：使用柔和的径向波纹效果，表示场景初始化完成和新阶段开始

## 步骤2：思路分析动画

### 问题拆解动画（9-12秒）
- **思考状态转换**：
  - 场景调整：背景色轻微变暗，聚焦小人和楼梯
  - 小人姿态：变为思考状态，一手摸下巴，另一手背在后面，姿势自然
  - 眼球运动：小人眼睛先看楼梯，再看天空，表示思考
  - 思考泡泡：小人头顶出现半透明思考气泡，边缘有水晶般的反光
  - 泡泡效果：气泡从小变大(scale: 0 → 1)，使用弹性缓动，边缘有轻微波动
  - 思考符号：泡泡中出现动态变化的问号、数字和小楼梯图案
  - 思考音效：柔和的"思考中"背景音，如轻柔的音符或时钟声
  - 表情变化：小人眼睛偶尔眨动，眉毛微皱，嘴角偶尔动一下，显得栩栩如生

- **问题文本展示**：
  - 出现位置：思考气泡逐渐变形成对话框，或在画布右侧平滑滑入
  - 设计风格：简约现代的卡片设计，边缘有微妙的光效，内部有细微纹理
  - 内容："要解决这个问题，我们需要思考：如何到达每一个台阶？"
  - 显示方式：文字逐字出现，关键词先淡后显，产生强调效果
  - 文字动效：文字完成后有微小的上下浮动动画，保持视觉活力
  - 强调效果：关键词"如何到达"短暂高亮并放大，再恢复正常
  - 字体处理：使用优雅的字体搭配，正文Roboto搭配标题Montserrat
  - 多层级：可展开查看更详细的解释（如针对初学者的更详细描述）

- **焦点台阶动画**：
  - 选择特效：镜头优雅地平移和缩放，聚焦到第3阶
  - 视觉强调：其他阶梯褪色和轻微模糊，只有第3阶保持鲜明色彩
  - 高亮方式：该阶梯轮廓产生柔和脉动光晕，颜色渐变加深
  - 闪烁效果：编号闪烁强调(呼吸效果)，强化关注点
  - 3D效果：聚焦阶梯微微向前抬起，增强立体感
  - 粒子效果：阶梯周围有微小光粒子环绕，提高视觉趣味
  - 摄像机移动：视角平滑移动至该台阶，有轻微的环绕效果
  - 指示器：添加优雅的光环指示器，随呼吸效果缓慢扩散收缩

- **虚线指引出现**：
  - 预热：先出现光点沿路径移动，预示线条即将出现
  - 类型：从小人指向焦点台阶的动态虚线箭头，线条有流动效果
  - 样式：渐变色虚线(#757575→#4CAF50)，宽度2px，带有发光效果
  - 生成方式：线条从起点向终点平滑延伸，使用加速缓动
  - 视觉辅助：线上有微小光点流动，增强方向感
  - 提示标签：箭头上方显示半透明"分析这个台阶"标签，文字有微光效果
  - 动态效果：线条周期性波动，保持视觉吸引力
  - 消失方式：在路径分析开始时优雅地变成光粒子消散

### 路径来源分析动画（12-16秒）
- **问题引导**：
  - 转场效果：之前的问题文本平滑变换形状，为新内容腾出空间
  - 文本更新："想一想，要到达第i阶，我们可以从哪些台阶出发？"
  - 动态替换：将"i"平滑替换为实际选中的台阶编号（如3），带有转换动画
  - 文本位置：思考气泡或右侧面板，使用3D立体设计
  - 更新方式：上一文本优雅收起，新文本展开，像纸张折叠/展开
  - 强调手法：使用粗体、微光效果和颜色变化强调关键问题
  - 视觉连接：从问题文本到焦点台阶有细微的连接线或光束
  - 小人反应：小人对问题做出反应，如点头或做出"有了"的手势

- **摄像机移动动画**：
  - 运动轨迹：摄像机沿贝塞尔曲线平滑移动，模拟专业摄影效果
  - 镜头参数：视野略微拉宽，展示更多上下文
  - 运动时间：500ms，使用ease-out-in缓动，中间有短暂停顿
  - 附加效果：移动时画面边缘有轻微动态模糊，增强运动感
  - 视角调整：确保可以同时看到第1、2、3阶的清晰视图
  - 景深效果：当前分析区域焦点清晰，远处阶梯轻微虚化
  - 构图原则：使用三分法构图，关键元素位于黄金分割点
  - 光线调整：随着镜头移动，光线重新聚焦到分析区域

- **路径箭头出现**：
  - 前奏效果：箭头出现前，源台阶和目标台阶短暂闪烁，建立视觉联系
  - 第一条箭头生成：
    * 类型：从第2阶到第3阶的动态蓝色箭头（爬1阶）
    * 能量形成：源点产生蓝色能量，沿路径流向目标
    * 出现方式：路径先以半透明轮廓出现，然后实体箭头沿轨迹生成
    * 光效：箭头周围有流动的蓝色微光，表示活跃路径
    * 标签："爬1阶"，使用浮动3D文本，位于箭头中间位置
    * 视觉强调：路径完成时有波动效果，从源头到目标传播
    * 音效：柔和的"嗖"声，表示路径建立
  
  - 第二条箭头生成：
    * 触发：第一条箭头稳定后，第1阶开始发光，预示新路径
    * 类型：从第1阶到第3阶的动态橙色箭头（爬2阶）
    * 出现方式：与第一条箭头类似，但颜色和轨迹不同
    * 弧度：明显高于第一条箭头，表示跨越更多台阶
    * 标签："爬2阶"，设计与第一个一致但颜色不同
    * 视觉强调：同样有波动效果，但频率和强度略有差异
    * 分层：确保两条路径在视觉上清晰分离，避免混淆
    * 完成效果：两条路径同时脉动一次，表示分析完成

- **路径关系视觉化**：
  - 小人示范：小人分别演示从第2阶跨一步和从第1阶跨两步到达第3阶
  - 能量流动：当小人踩踏源台阶时，能量从脚下产生并流向目标台阶
  - 台阶响应：台阶在小人踩踏时有轻微下陷和回弹效果，增强物理真实感
  - 路径动画：两条路径轮流高亮，表示两种不同的到达方式
  - 连接效果：目标台阶接收到路径能量时产生涟漪效果
  - 数值指示：每条路径旁显示贡献值"×1"，表示各提供一种方法
  - 汇聚动画：两条路径的能量最终汇聚到第3阶的方法数显示器
  - 小结标记：分析完成后，在画面一角显示简洁的数学表达式：f(3) = f(2) + f(1) 